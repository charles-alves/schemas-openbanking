{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./src/views/CreateSchema.vue?8ae0","webpack:///src/views/CreateSchema.vue","webpack:///./src/views/CreateSchema.vue?d0c7","webpack:///./src/views/CreateSchema.vue","webpack:///./src/views/SchemaConfiguration.vue?0911","webpack:///src/views/SchemaConfiguration.vue","webpack:///./src/views/SchemaConfiguration.vue?bb77","webpack:///./src/views/SchemaConfiguration.vue","webpack:///./node_modules/core-js/modules/es.array.concat.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js"],"names":["_arrayWithoutHoles","arr","Array","isArray","arrayLikeToArray","_iterableToArray","iter","Symbol","iterator","Object","from","_nonIterableSpread","TypeError","_toConsumableArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","$t","on","$event","preventDefault","proccessFile","attrs","directives","name","rawName","value","expression","domProps","target","composing","schemaGroup","schemaName","filesChange","files","filePlaceholder","staticRenderFns","data","file","computed","methods","fileList","component","save","_l","field","key","$set","props","schema","type","require","fields","mounted","filterObjectsFields","structure","result","isObjectField","createField","existsSubfields","length","getFields","keys","mapSubfields","$","fails","isObject","toObject","toLength","createProperty","arraySpeciesCreate","arrayMethodHasSpeciesSupport","wellKnownSymbol","V8_VERSION","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","array","concat","SPECIES_SUPPORT","isConcatSpreadable","O","spreadable","undefined","FORCED","proto","forced","arg","i","k","len","E","A","n","arguments","_createForOfIteratorHelper","o","allowArrayLike","it","F","s","done","e","_e","f","err","normalCompletion","didErr","step","next","_e2"],"mappings":"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","file":"js/creation.c8b2fa62.js","sourcesContent":["import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content\"},[_c('h1',[_vm._v(_vm._s(_vm.$t('forms.createSchema.title')))]),_c('p',[_vm._v(_vm._s(_vm.$t('forms.createSchema.description')))]),_c('form',{staticClass:\"form col-6 offset-3 mt-5\",on:{\"submit\":function($event){$event.preventDefault();return _vm.proccessFile()}}},[_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"text-captilize\",attrs:{\"for\":\"name\"}},[_vm._v(\" \"+_vm._s(_vm.$t('app.forms.group'))+\" \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.schemaGroup),expression:\"schemaGroup\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"name\":\"group\",\"id\":\"group\",\"placeholder\":_vm.$t('app.forms.groupPlaceholder')},domProps:{\"value\":(_vm.schemaGroup)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.schemaGroup=$event.target.value}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"text-capitalize\",attrs:{\"for\":\"name\"}},[_vm._v(_vm._s(_vm.$t('app.forms.name')))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.schemaName),expression:\"schemaName\"}],staticClass:\"form-control\",attrs:{\"id\":\"name\",\"name\":\"name\",\"type\":\"text\",\"placeholder\":_vm.$t('app.forms.namePlaceholder')},domProps:{\"value\":(_vm.schemaName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.schemaName=$event.target.value}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"text-capitalize\",attrs:{\"for\":\"structure\"}},[_vm._v(\" \"+_vm._s(_vm.$t('app.forms.structure'))+\" \")]),_c('div',{staticClass:\"custom-file\"},[_c('input',{staticClass:\"custom-file-input\",attrs:{\"id\":\"structure\",\"name\":\"structure\",\"type\":\"file\",\"accept\":\".csv\"},on:{\"change\":function($event){return _vm.filesChange($event.target.name, $event.target.files);}}}),_c('label',{staticClass:\"custom-file-label\",attrs:{\"for\":\"structure\",\"aria-describedby\":\"structure\"}},[_vm._v(\" \"+_vm._s(_vm.filePlaceholder)+\" \")])])]),_c('div',{staticClass:\"form-group d-flex\"},[_c('router-link',{staticClass:\"btn btn-danger w-100 mr-1 text-capitalize\",attrs:{\"to\":{ name: 'Home' },\"type\":\"button\"}},[_vm._v(\" \"+_vm._s(_vm.$t('app.forms.buttons.cancel'))+\" \")]),_c('button',{staticClass:\"btn btn-success w-100 ml-1 text-capitalize\",attrs:{\"type\":\"submit\"}},[_vm._v(\" \"+_vm._s(_vm.$t('app.forms.buttons.next'))+\" \")])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"content\">\r\n    <h1>{{ $t('forms.createSchema.title') }}</h1>\r\n    <p>{{ $t('forms.createSchema.description') }}</p>\r\n\r\n    <form @submit.prevent=\"proccessFile()\" class=\"form col-6 offset-3 mt-5\">\r\n      <div class=\"form-group\">\r\n        <label for=\"name\" class=\"text-captilize\">\r\n          {{ $t('app.forms.group') }}\r\n        </label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"group\"\r\n          id=\"group\"\r\n          class=\"form-control\"\r\n          :placeholder=\"$t('app.forms.groupPlaceholder')\"\r\n          v-model=\"schemaGroup\"\r\n        >\r\n      </div>\r\n\r\n      <div class=\"form-group\">\r\n        <label for=\"name\" class=\"text-capitalize\">{{ $t('app.forms.name') }}</label>\r\n        <input\r\n          id=\"name\"\r\n          name=\"name\"\r\n          type=\"text\"\r\n          class=\"form-control\"\r\n          :placeholder=\"$t('app.forms.namePlaceholder')\"\r\n          v-model=\"schemaName\"\r\n        >\r\n      </div>\r\n\r\n      <div class=\"form-group\">\r\n        <label for=\"structure\" class=\"text-capitalize\">\r\n          {{ $t('app.forms.structure') }}\r\n        </label>\r\n        <div class=\"custom-file\">\r\n          <input\r\n            id=\"structure\"\r\n            name=\"structure\"\r\n            type=\"file\"\r\n            class=\"custom-file-input\"\r\n            accept=\".csv\"\r\n            @change=\"filesChange($event.target.name, $event.target.files);\"\r\n          >\r\n          <label\r\n            class=\"custom-file-label\"\r\n            for=\"structure\"\r\n            aria-describedby=\"structure\"\r\n          >\r\n            {{ filePlaceholder}}\r\n          </label>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"form-group d-flex\">\r\n        <router-link\r\n          :to=\"{ name: 'Home' }\"\r\n          type=\"button\"\r\n          class=\"btn btn-danger w-100 mr-1 text-capitalize\"\r\n        >\r\n          {{ $t('app.forms.buttons.cancel') }}\r\n        </router-link>\r\n        <button\r\n          type=\"submit\"\r\n          class=\"btn btn-success w-100 ml-1 text-capitalize\"\r\n        >\r\n          {{ $t('app.forms.buttons.next') }}\r\n        </button>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nexport default {\r\n  name: 'CreateSchema',\r\n  data () {\r\n    return {\r\n      schemaGroup: '',\r\n      schemaName: '',\r\n      file: null\r\n    }\r\n  },\r\n  computed: {\r\n    filePlaceholder () {\r\n      return this.file !== null ? this.file.name : this.$t('forms.createSchema.filePlaceholder')\r\n    }\r\n  },\r\n  methods: {\r\n    async proccessFile (schema) {\r\n      const formData = new FormData()\r\n      formData.set('group', this.schemaGroup)\r\n      formData.set('name', this.schemaName)\r\n      formData.set('structure', this.file)\r\n      const response = await axios.post('api/schemas/process-file', formData)\r\n      this.$router.push({\r\n        name: 'SchemaConfiguration',\r\n        params: {\r\n          name: response.data.name,\r\n          schema: response.data\r\n        }\r\n      })\r\n    },\r\n    filesChange (fieldName, fileList) {\r\n      this.file = fileList[0]\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateSchema.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateSchema.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CreateSchema.vue?vue&type=template&id=4ffe5896&\"\nimport script from \"./CreateSchema.vue?vue&type=script&lang=js&\"\nexport * from \"./CreateSchema.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('h1',[_vm._v(_vm._s(_vm.$t('forms.schemaConfiguration.title')))]),_c('p',[_vm._v(_vm._s(_vm.$t('forms.schemaConfiguration.description')))]),_c('form',{staticClass:\"form mt-5 col-6 offset-3\",on:{\"submit\":function($event){$event.preventDefault();return _vm.save()}}},[_vm._l((_vm.fields),function(field){return _c('div',{key:field.name,staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":field.name}},[_vm._v(_vm._s(field.name))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(field.type),expression:\"field.type\"}],staticClass:\"form-control\",attrs:{\"id\":field.name,\"name\":field.name,\"type\":\"text\"},domProps:{\"value\":(field.type)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(field, \"type\", $event.target.value)}}})])}),_c('div',{staticClass:\"form-group d-flex mb-5\"},[_c('router-link',{staticClass:\"btn btn-danger w-100 mr-1\",attrs:{\"to\":{ name:'Home' }}},[_vm._v(\" \"+_vm._s(_vm.$t('app.forms.buttons.cancel'))+\" \")]),_c('button',{staticClass:\"btn btn-success w-100 ml-1\",attrs:{\"type\":\"submit\"}},[_vm._v(\" \"+_vm._s(_vm.$t('forms.schemaConfiguration.buttons.createSchema'))+\" \")])],1)],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container\">\r\n    <h1>{{ $t('forms.schemaConfiguration.title') }}</h1>\r\n    <p>{{ $t('forms.schemaConfiguration.description') }}</p>\r\n\r\n    <form @submit.prevent=\"save()\" class=\"form mt-5 col-6 offset-3\">\r\n      <div class=\"form-group\" v-for=\"field in fields\" :key=\"field.name\">\r\n        <label :for=\"field.name\">{{ field.name }}</label>\r\n        <input\r\n          :id=\"field.name\"\r\n          :name=\"field.name\"\r\n          type=\"text\"\r\n          class=\"form-control\"\r\n          v-model=\"field.type\"\r\n        >\r\n      </div>\r\n\r\n      <div class=\"form-group d-flex mb-5\">\r\n        <router-link :to=\"{ name:'Home' }\" class=\"btn btn-danger w-100 mr-1\">\r\n          {{ $t('app.forms.buttons.cancel') }}\r\n        </router-link>\r\n        <button type=\"submit\" class=\"btn btn-success w-100 ml-1\">\r\n          {{ $t('forms.schemaConfiguration.buttons.createSchema') }}\r\n        </button>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport { mapMutations } from 'vuex'\r\n\r\nimport { ADD_SCHEMA_MENU } from '../store/mutations-type.js'\r\n\r\nexport default {\r\n  name: 'SchemaConfiguration',\r\n  props: {\r\n    schema: {\r\n      type: Object,\r\n      require: true\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      fields: []\r\n    }\r\n  },\r\n  mounted () {\r\n    const structure = this.$route.params.schema.structure\r\n\r\n    this.fields = this.filterObjectsFields(structure)\r\n  },\r\n  methods: {\r\n    ...mapMutations({\r\n      addSchema: ADD_SCHEMA_MENU\r\n    }),\r\n    async save () {\r\n      for (const f of this.fields) {\r\n        const field = f.name.split('.')\r\n          .reduce((a, v) => a[v], this.schema.structure)\r\n        field.meta.fieldType = f.type\r\n      }\r\n\r\n      await axios.post('api/schemas', this.schema)\r\n      this.addSchema({\r\n        group: this.schema.group,\r\n        name: this.schema.name\r\n      })\r\n      this.$router.push({\r\n        name: 'SchemaViewer',\r\n        params: {\r\n          name: this.schema.name\r\n        }\r\n      })\r\n    },\r\n\r\n    filterObjectsFields (obj) {\r\n      const result = []\r\n      const entries = Object.entries(obj)\r\n        .filter(([k]) => k !== 'meta')\r\n\r\n      for (const [key, value] of entries) {\r\n        if (this.isObjectField(value)) {\r\n          result.push(this.createField(key, value.meta.fieldType))\r\n        }\r\n\r\n        if (this.existsSubfields(value)) {\r\n          const fields = this.mapSubfields({ key, value })\r\n          result.push(...fields)\r\n        }\r\n      }\r\n      return result\r\n    },\r\n\r\n    isObjectField (value) {\r\n      const fields = this.getFields(value)\r\n      return (\r\n        fields.length !== 0 ||\r\n        value.meta.fieldType === 'Enum' ||\r\n        value.meta.fieldType === 'Field'\r\n      )\r\n    },\r\n\r\n    createField (name, type) {\r\n      return { name, type }\r\n    },\r\n\r\n    existsSubfields (value) {\r\n      const fields = this.getFields(value)\r\n      return fields.length !== 0\r\n    },\r\n\r\n    getFields (value) {\r\n      return Object.keys(value)\r\n        .filter(k => k !== 'meta')\r\n    },\r\n\r\n    mapSubfields ({ key, value }) {\r\n      return this.filterObjectsFields(value)\r\n        .map(f => this.createField(`${key}.${f.name}`, f.type))\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SchemaConfiguration.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SchemaConfiguration.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SchemaConfiguration.vue?vue&type=template&id=4114d114&\"\nimport script from \"./SchemaConfiguration.vue?vue&type=script&lang=js&\"\nexport * from \"./SchemaConfiguration.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  concat: function concat(arg) { // eslint-disable-line no-unused-vars\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","import unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}"],"sourceRoot":""}